script:Tag:drs_p_down|waitsignal:drs_fu_p_3|QuickScript|foo:IF MOVEMENT IS IN BOUNDS SET TEMP NEXT TILE|if:compare,#drs_p_gy#,<,5|setvar:drs_g_prev,drs_t_#drs_p_gx#_#drs_p_gy#|setvarbyname:drs_t_prev,#drs_g_prev#|setvar:drs_gy_next,#drs_p_gy#|addvar:drs_gy_next,1|setvar:drs_t_next,drs_t_#drs_p_gx#_#drs_gy_next#|setvarbyname:drs_t_next,#drs_t_next#|foo:IF MOVEMENT IS OUT OF BOUNDS CHECK IF THIS IS SECOND BOOT MOVEMENT|else|if:compare,#drs_p_moves#,<,2|setvar:drs_i_boot_b,0|setvar:drs_t_next,100|setvar:drs_temp_g,100|setvar:drs_p_inmotion,0|foo:IF MOVEMENT IS OUT OF BOUNDS AND NOT SECOND MOVEMENT DO NOTHING|else|setvar:drs_i_boot_b,1|setvar:drs_t_next,100|setvar:drs_temp_g,100|setvar:drs_p_inmotion,0|endif|foo:SET PREVIOUS TRAVERSABLE TYLE TYPE|if:compare,#drs_t_prev#,=,#drs_c_t_p_exit#|setvar:drs_t_prev,#drs_c_t_exit#|else|setvar:drs_t_prev,#drs_c_t_stone#|endif|foo:RESET ITEM STATUS BEFORE RESOLVING MOVEMENT|setvar:drs_i,0|foo:RESOLVE MOVEMENT BASED ON TEMP NEXT TILE TYPE|if:compare,#drs_t_next#,=,#drs_c_t_exit#|setvar:drs_t_#drs_p_gx#_#drs_p_gy#,#drs_c_t_stone#|addvar:drs_p_gy,1|setvar:drs_t_#drs_p_gx#_#drs_p_gy#,#drs_c_t_p_exit#|RefreshApp:DRSApp|setvar:drs_m,drs_ex_#drs_p_gx#_#drs_p_gy#|setvarbyname:drs_m,#drs_m#|setvar:drs_p_sp,drs_en_#drs_p_gx#_#drs_p_gy#|setvarbyname:drs_p_sp,#drs_p_sp#|setvar:drs_i_boot_b,0|addvar:drs_moves,1|setvar:drs_ui_moves,#drs_moves#|sfx:#drs_c_a_exit#|wait:0.05|OpenFile:#drs_s_path#drs_m_#drs_m#.txt|else|if:compare,#drs_t_next#,=,#drs_c_t_stone#|sfx:#drs_c_a_move#|setvar:drs_t_#drs_p_gx#_#drs_p_gy#,#drs_t_prev#|addvar:drs_p_gy,1|setvar:drs_t_#drs_p_gx#_#drs_p_gy#,#drs_c_t_player#|setvar:drs_i_boot_b,1|RefreshApp:DRSApp|else|if:compare,#drs_t_next#,=,#drs_c_t_rock#|setvar:drs_t_next,100|setvar:drs_p_inmotion,0|else|if:compare,#drs_t_next#,=,#drs_c_t_enemy#|sfx:#drs_c_a_death#|2000Update:video/drugrunners-lose.webm,foo|Hypii:#drs_c_ui_h_lose#|setvar:drs_ui_output,#drs_c_ui_lose#|setvar:drs_t_#drs_p_gx#_#drs_p_gy#,#drs_t_prev#|addvar:drs_p_gy,1|RefreshApp:DRSApp|else|if:compare,#drs_t_next#,=,#drs_c_t_i_open#|setvar:drs_t_next,100|setvar:drs_p_inmotion,0|else|if:compare,#drs_t_next#,=,#drs_c_t_item#|setvar:drs_i_boot_b,0|addvar:drs_moves,1|setvar:drs_ui_moves,#drs_moves#|sfx:#drs_a_item#|setvar:drs_i,drs_i_#drs_p_gx#_#drs_gy_next#|setvarbyname:drs_i,#drs_i#|setvar:drs_i_#drs_i#_own,#drs_c_i_on#|setvar:drs_ui_i,drs_c_ui_i_#drs_i#|setvarbyname:drs_ui_i,#drs_ui_i#|setvar:drs_ui_i_#drs_i#,#drs_ui_i#|setvar:drs_ui_i_#drs_i#_eq,#drs_ui_i#|Hypii:#drs_ui_i#|setvar:drs_t_#drs_p_gx#_#drs_gy_next#,#drs_c_t_i_open#|setvar:drs_p_inmotion,0|RefreshApp:DRSApp|endif|foo:RESOLVE ITEM IF OBTAINED|if:compare,#drs_i#,=,#drs_c_i_charm#|setvar:drs_p_inmotion,1|wait:#drs_c_i_charm_w#|setvar:drs_t_#drs_p_gx#_#drs_p_gy#,#drs_c_t_stone#|setvar:drs_p_gx,#drs_i_charm_gx#|setvar:drs_p_gy,#drs_i_charm_gy#|setvar:drs_t_#drs_p_gx#_#drs_p_gy#,#drs_c_t_p_exit#|setvar:drs_i_2_own,#drs_c_i_off#|setvar:drs_ui_i_2_eq,#drs_c_ui_i_off#|RefreshApp:DRSApp|setvar:drs_p_inmotion,0|foo:TRIGGER CHARM INFO HERE|Hypii:Use the Teleportation Charm to teleport back to the main entrance of any room!|else|if:compare,#drs_i#,=,#drs_c_i_boots#|foo:TRIGGER BOOTS INFO HERE|Hypii:Use the Boots to run 2 spaces instead of 1 per turn!|else|if:compare,#drs_i#,=,#drs_c_i_end#|foo:TRIGGER END INFO HERE|2000Update:video/drugrunners-win.webm,foo|downloadfile:drun-dealer.him|downloadfile:drun-ronnie.him|downloadfile:counselorronnie-snubthenub-extended.ogg|endif|foo:RESOLVE BOOT MOVEMENT IF EQUIPPED|if:compare,#drs_i_boot_b#,=,1|if:compare,#drs_i_1_own#,=,#drs_c_i_on#|if:compare,#drs_p_moves#,<,2|addvar:drs_p_moves,1|Signal:drs_fu_p_move|else|if:compare,#drs_i_boot_b#,=,1|addvar:drs_moves,1|setvar:drs_ui_moves,#drs_moves#|setvar:drs_e,1|Signal:drs_fu_e_move|endif|repeat:999999,0
